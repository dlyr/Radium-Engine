<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Radium Engine: Radium Compilation instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="radium-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Radium Engine
   &#160;<span id="projectnumber">1.2.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('basicsCompileRadium.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Radium Compilation instructions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md10">Supported compiler and platforms</a></li>
<li class="level1"><a href="#autotoc_md11">Build instructions</a><ul><li class="level2"><a href="#autotoc_md12">Folder structure</a></li>
<li class="level2"><a href="#autotoc_md13">Command line instructions for building (on windows, mac and linux)</a></li>
<li class="level2"><a href="#autotoc_md14">Integration with Visual Studio (Microsoft Windows)</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md10"></a>
Supported compiler and platforms</h1>
<p>The following platforms and tool chains have been tested and should work :</p>
<ul>
<li><em>Windows</em> : IDEs: Visual Studio 2019 (2017 is not supported due to embedded cmake version), QtCreator. Command Line: cmake+ninja+MSVC(2017 or 2019) .</li>
<li><em>Mac OSX</em> : gcc 10 or higher, Apple clang</li>
<li><em>Linux</em> : gcc 8 or higher, clang</li>
</ul>
<p>See also our Continuous Integration system at <a href="https://github.com/STORM-IRIT/Radium-Engine/actions">https://github.com/STORM-IRIT/Radium-Engine/actions</a>.</p>
<p>Minimal requirements</p><ul>
<li>OpenGL 4.1+ / GLSL 410+</li>
<li>CMake 3.15.7+</li>
<li>Qt5 (minimal version 5.14) or Qt6 (experimental)</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
Build instructions</h1>
<p>If not already done, follow instructions at <a class="el" href="dependenciesmanagement.html">Radium Dependencies Management</a>.</p>
<p>Radium follows a standard cmake structure, so any IDE supporting cmake should be able to configure and build it.</p>
<dl class="section note"><dt>Note</dt><dd>We strongly recommend to have dedicated build and install directories for each build type (Release, Debug). Remember that compiling Radium in Debug mode needs to have the dependencies compiled and installed in Debug mode (due to a limitation in assimp).</dd></dl>
<h2><a class="anchor" id="autotoc_md12"></a>
Folder structure</h2>
<p>Radium-Engine relies on CMake build-chain on all supported platforms. In most cases, building should be pretty straightforward, provided that cmake can locate the dependencies.</p>
<h3>Installation directory</h3>
<p>By default, <code>${CMAKE_INSTALL_PREFIX}</code> is set as follow:</p>
<ul>
<li>For release build :</li>
</ul>
<div class="fragment"><div class="line">set(RADIUM_BUNDLE_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID})</div>
</div><!-- fragment --><ul>
<li>For Debug or RelWithDebInfo build</li>
</ul>
<div class="fragment"><div class="line">set(RADIUM_BUNDLE_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}-${CMAKE_BUILD_TYPE})</div>
</div><!-- fragment --><p>It has the following structure, if externals are compiled along Radium </p><div class="fragment"><div class="line">Bundle-*</div>
<div class="line"> - bin/  include/  lib/  libdata/  LICENSE  README.md  Resources/  share/</div>
</div><!-- fragment --><p>Or if externals are compiled locally : </p><div class="fragment"><div class="line">Bundle-*</div>
<div class="line"> - bin/  include/  lib/  LICENSE  README.md  Resources/  share/</div>
</div><!-- fragment --><h3>Configure build options</h3>
<p>Radium offers the following build options: </p><div class="fragment"><div class="line">// Enable coverage, gcc only. Experimental, need ENABLE_TESTING</div>
<div class="line">RADIUM_ENABLE_COVERAGE:BOOL=OFF</div>
<div class="line">--</div>
<div class="line">// Enable testing. Tests are automatically built with target all</div>
<div class="line">RADIUM_ENABLE_TESTING:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Include Radium::Core in CMake project</div>
<div class="line">RADIUM_GENERATE_LIB_CORE:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Include Radium::Engine in CMake project</div>
<div class="line">RADIUM_GENERATE_LIB_ENGINE:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Include Radium::Gui in CMake project</div>
<div class="line">RADIUM_GENERATE_LIB_GUI:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Include Radium::IO in CMake project</div>
<div class="line">RADIUM_GENERATE_LIB_IO:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Include Radium::PluginBase in CMake project</div>
<div class="line">RADIUM_GENERATE_LIB_PLUGINBASE:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Check submodules during build (will be automatically disabled after run)</div>
<div class="line">RADIUM_GIT_UPDATE_SUBMODULE:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Install documentation. If RadiumDoc is compiled, install documentation to bundle directory for install target</div>
<div class="line">RADIUM_INSTALL_DOC:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Value of CMAKE_INSTALL_MESSAGE for dependencies. See documentations of CMAKE_INSTALL_MESSAGE for possible values</div>
<div class="line">RADIUM_EXTERNAL_CMAKE_INSTALL_MESSAGE=NEVER</div>
<div class="line">--</div>
<div class="line">// Disable Radium Log messages</div>
<div class="line">RADIUM_QUIET:BOOL=OFF</div>
<div class="line">--</div>
<div class="line">// Provide loaders based on Assimp library</div>
<div class="line">RADIUM_IO_ASSIMP:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Provide depricated loaders (to be removed without notice)</div>
<div class="line">RADIUM_IO_DEPRECATED:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Provide loaders based on TinyPly library</div>
<div class="line">RADIUM_IO_TINYPLY:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// [addExternalFolder] Skip updating Core::external (disable for rebuild)</div>
<div class="line">RADIUM_SKIP_CORE_EXTERNAL:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// [addExternalFolder] Skip updating Engine::external (disable for rebuild)</div>
<div class="line">RADIUM_SKIP_ENGINE_EXTERNAL:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// [addExternalFolder] Skip updating IO::external (disable for rebuild)</div>
<div class="line">RADIUM_SKIP_IO_EXTERNAL:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Update version file each time the project is compiled (update compilation time in version.cpp)</div>
<div class="line">RADIUM_UPDATE_VERSION:BOOL=ON</div>
<div class="line">--</div>
<div class="line">// Use double precision for Scalar</div>
<div class="line">RADIUM_USE_DOUBLE:BOOL=OFF</div>
</div><!-- fragment --><p>All radium related cmake options (with their current values) can be printed with <code>cmake -LAH | grep -B1 RADIUM</code> (on linux like system)</p>
<dl class="section warning"><dt>Warning</dt><dd>For computers with low RAM capacities (under 12G) we recommend to set the <code>CMAKE_BUILD_PARALLEL_LEVEL</code> environment variable to a reasonable value (i.e. 2) to prevent the computer from swapping.</dd></dl>
<h3>Dependencies between libraries</h3>
<p>The options <code>RADIUM_GENERATE_LIB_XXXX</code> allows to enable/disable each Radium library. The dependencies between libraries are set as follow:</p>
<div class="fragment"><div class="line">add_dependencies (${ra_engine_target} PUBLIC Radium::Core)</div>
<div class="line">add_dependencies (${ra_io_target} PUBLIC Radium::Core)</div>
<div class="line">add_dependencies (${ra_pluginbase_target} Radium::Core Radium::Engine)</div>
<div class="line">add_dependencies (${ra_gui_target} PUBLIC Radium::Core Radium::Engine Radium::PluginBase Radium::IO)</div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>Consistency of <code>RADIUM_GENERATE_LIB_***</code> options is not checked wrt. the dependencies.</dd></dl>
<ul>
<li>When enabled using <code>RADIUM_GENERATE_LIB_***</code>, each library has a compilation target: <code>Core</code>, <code>Engine</code>, ...</li>
</ul>
<h2><a class="anchor" id="autotoc_md13"></a>
Command line instructions for building (on windows, mac and linux)</h2>
<p>Out-of source builds are mandatory, we recommend to follow the usual sequence:</p>
<div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build</div>
<div class="line">$ cmake .. -DQt5_DIR=........ -DCMAKE_BUILD_TYPE=.......</div>
<div class="line">$ make</div>
<div class="line">$ make install</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Qt6 support is experimental. To enable it, replace <code>-DQt5_DIR=path/to/qt5</code> by <code>-DQt6_DIR=path/to/qt6</code>.</dd>
<dd>
Running the <code>install</code> target is recommended as it will copy all the radium related library in the same place, generate the cmake packages and bundle applications with their dependencies (on macos and windows).</dd></dl>
<p>Note that installation requires write access on the installation directory.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Integration with Visual Studio (Microsoft Windows)</h2>
<h3>Supported versions of MSVC</h3>
<p>Radium requires MSVC 2019 or superior, as it relies on:</p><ul>
<li>C++11/C++14/C++17 features such as <code>constexpr</code>,</li>
<li>cmake built-in support</li>
</ul>
<p>Our Continuous Integration systems uses Microsoft Compiler 2017, in combination with cmake and ninja. Using Visual Studio 2017 with cmake support is however not possible: VS is shipped with cmake: 3.12, while Radium requires cmake 3.13 at least. We recommend to use Visual Studio 2019 in that case. Qt 5.15+ is distributed with binaries precompiled with MSVC 2019, but Qt binaries precompiled with MSVC2017 does not break the build.</p>
<h3>Qt Dependency</h3>
<p>Use precompiled libraries for VS 2017 or 2019 - 64 bits (minimal version required: 5.14). You will probably have to manually point cmake to the Qt folder.</p>
<h3>Getting started with Visual Studio</h3>
<p>Thanks to the integrated support of CMake in Visual Studio, you don't need a VS solution to build your project: open the Radium folder (via <em>File</em> &gt; <em>Open</em> &gt; <em>Folder ...</em> or <code>devenv.exe &lt;foldername&gt;</code>). VS should run cmake, generate the target builds (Debug and Release by default). Other build types can be added by editing <code>CMakeSettings.json</code>.</p>
<p>You may have Cmake errors occurring at the first run. To fix them, you need to edit the VS-specific file <code>CMakeSettings.json</code>, via <em>CMake</em> &gt; <em>Change CMake Settings</em> &gt; path-to-CMakeLists (configuration-name) from the main menu. For instance, it usually requires to set cmake build types manually, and to give path to Qt libraries. To fix it, edit <code>CMakeSettings.json</code>, such that </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;configurations&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;x64-Release&quot;,</div>
<div class="line">      &quot;generator&quot;: &quot;Ninja&quot;,</div>
<div class="line">      &quot;configurationType&quot;: &quot;Release&quot;,</div>
<div class="line">      &quot;inheritEnvironments&quot;: [ &quot;msvc_x64_x64&quot; ],</div>
<div class="line">      &quot;buildRoot&quot;: &quot;C:/Users/XXX/Dev/builds/Radium/${name}&quot;,</div>
<div class="line">      &quot;installRoot&quot;: &quot;C:/Users/XXX/Dev/Radium-install&quot;,</div>
<div class="line">      &quot;cmakeCommandArgs&quot;: &quot;-DCMAKE_PREFIX_PATH=C:/Qt-5.15/5.15.0/msvc2017_64&quot;,</div>
<div class="line">      &quot;buildCommandArgs&quot;: &quot;&quot;,</div>
<div class="line">      &quot;ctestCommandArgs&quot;: &quot;&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;x64-Debug&quot;,</div>
<div class="line">      &quot;generator&quot;: &quot;Ninja&quot;,</div>
<div class="line">      &quot;configurationType&quot;: &quot;Debug&quot;,</div>
<div class="line">      &quot;inheritEnvironments&quot;: [ &quot;msvc_x64_x64&quot; ],</div>
<div class="line">      &quot;buildRoot&quot;: &quot;C:/Users/XXX/Dev/builds/Radium/${name}&quot;,</div>
<div class="line">      &quot;installRoot&quot;: &quot;C:/Users/XXX/Dev/Radium-installdbg&quot;,</div>
<div class="line">      &quot;cmakeCommandArgs&quot;: &quot;-DCMAKE_PREFIX_PATH=C:/Qt-5.15/5.15.0/msvc2017_64&quot;,</div>
<div class="line">      &quot;buildCommandArgs&quot;: &quot;&quot;,</div>
<div class="line">      &quot;ctestCommandArgs&quot;: &quot;&quot;</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>It is strongly encouraged to use <code>/</code> separators in your path, instead of <code>\\</code>. See <a href="https://stackoverflow.com/questions/13737370/cmake-error-invalid-escape-sequence-u">https://stackoverflow.com/questions/13737370/cmake-error-invalid-escape-sequence-u</a> <em>Note</em>: When compiling the dependencies you may hit the max path length fixed by Microsoft OS (260 characters). To fix this, you might need to change the path of your build dir to shorten it, or to change the limit on your system, see: <a href="https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file#enable-long-paths-in-windows-10-version-1607-and-later">https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file#enable-long-paths-in-windows-10-version-1607-and-later</a></dd></dl>
<h3>Compilation</h3>
<p>Right click on <code>CMakeList.txt &gt; build &gt; all</code>. To install, you need to run any installation target, e.g. <code>Engine.dll (install)</code> or to select the menu <code>&lt;Build&gt;/&lt;Install radiumproject&gt;</code> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="basicsmanual.html">Radium Basics</a></li>
    <li class="footer">Generated on Thu Apr 14 2022 17:09:58 for Radium Engine by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
