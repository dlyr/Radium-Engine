<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Radium Engine: Radium Dependencies Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="radium-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Radium Engine
   &#160;<span id="projectnumber">1.2.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dependenciesmanagement.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Radium Dependencies Management </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md15">Dependencies management systems</a></li>
<li class="level1"><a href="#autotoc_md16">Building and installing Radium dependencies once for all</a><ul><li class="level2"><a href="#autotoc_md17">Configuration and compilation of the dependencies</a></li>
<li class="level2"><a href="#autotoc_md18">Configuration of Radium</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md19">Fetch and build at configure time</a></li>
<li class="level1"><a href="#autotoc_md20">User provided external dependencies</a></li>
</ul>
</div>
<div class="textblock"><p>Radium relies on several external libraries to load files or to represent some data:</p><ul>
<li>[Core] <a class="el" href="namespaceEigen.html">Eigen</a>, <a class="el" href="namespaceOpenMesh.html">OpenMesh</a></li>
<li>[Engine] glm, globjects, glbindings</li>
<li>[IO] Assimp</li>
<li>[Gui] Qt Core, Qt Widgets and Qt OpenGL v5.5+ (5.14 at least, Qt6 support is experimental)</li>
<li>[doc] Doxygen-awesome-css</li>
<li>stb_image</li>
</ul>
<p>We developed a series of tools to fetch and compile these dependencies easily, except for Qt, which needs to be installed and passed to cmake through the variables <code>Qt5_DIR</code> OR <code>Qt6_DIR</code> (see documentation at <a href="https://doc.qt.io/qt-5.15/cmake-manual.html#getting-started">https://doc.qt.io/qt-5.15/cmake-manual.html#getting-started</a>).</p>
<h1><a class="anchor" id="autotoc_md15"></a>
Dependencies management systems</h1>
<p>We offer three different systems to handle external dependencies (see details and how-to in the following sections):</p><ol type="1">
<li><b>[recommended]</b> external build: the user compiles and installs once for all the dependencies using a dedicated cmake project. Then, Radium cmake project is configured to link with installed dependencies.</li>
<li>automatic build: the dependencies are automatically fetched and compiled by cmake when configuring Radium. This automated process is handy for Continuous Integration systems. For standard users, it slows down the configuration step of Radium and requires to fetch and recompile the dependencies each time the build directory is cleaned.</li>
<li>manual management: users can also provide their own version of the dependencies through cmake packages.</li>
</ol>
<dl class="section warning"><dt>Warning</dt><dd>Dependencies need to be built with the same build type (ie. Release, Debug) than Radium.</dd></dl>
<h1><a class="anchor" id="autotoc_md16"></a>
Building and installing Radium dependencies once for all</h1>
<p>We provide a standalone cmake project (<code>external/CMakeLists.txt</code>) to compile and install the Radium dependencies at any location <em>outside Radium-Engine source dir</em>. </p><dl class="section warning"><dt>Warning</dt><dd>If you try to build and install external as a subdir of Radium-Engine source, cmake configuration will fail.</dd></dl>
<h2><a class="anchor" id="autotoc_md17"></a>
Configuration and compilation of the dependencies</h2>
<p>Create installation directory, configure and build the cmake project: </p><div class="fragment"><div class="line">mkdir /path/to/external/installDir/Release</div>
<div class="line">mkdir BuildRadiumDependencies</div>
<div class="line">cd BuildRadiumDependencies</div>
<div class="line">cmake -DCMAKE_INSTALL_PREFIX=/path/to/external/installDir/Release /path/to/Radium-Engine/external -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">make .</div>
</div><!-- fragment --><p>If not given on the command line, the installation directory is set by default to <code>{CMAKE_CURRENT_BINARY_DIR}/Bundle-${CMAKE_CXX_COMPILER_ID}-${CMAKE_BUILD_TYPE}</code>. </p><dl class="section warning"><dt>Warning</dt><dd>The default installation directory will not work if <code>{CMAKE_CURRENT_BINARY_DIR}</code> is a subdirectory of the Radium folder.</dd></dl>
<p>Then, to compile Radium-Engine, you have to indicate where cmake can find each dependency, as detailed next.</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Configuration of Radium</h2>
<h3>Through a configuration file</h3>
<p>For convenience, we recommend to store your configuration in a file and use the <code>-C</code> option of cmake.</p>
<p>cmake config file <code>/path/to/myconfig.cmake</code>:</p>
<div class="fragment"><div class="line">#replace this one with you external install path</div>
<div class="line">set(RADIUM_DEP_PREFIX /path/to/external/install)</div>
<div class="line"> </div>
<div class="line">#set each external dirs</div>
<div class="line">set(Eigen3_DIR      ${RADIUM_DEP_PREFIX}/share/eigen3/cmake/ CACHE PATH &quot;My Eigen&quot;)</div>
<div class="line">set(OpenMesh_DIR    ${RADIUM_DEP_PREFIX}/share/OpenMesh/cmake/ CACHE PATH &quot;My OpenMesh&quot;)</div>
<div class="line">set(cpplocate_DIR   ${RADIUM_DEP_PREFIX}/share/cpplocate/ CACHE PATH &quot;My cpplocate&quot;)</div>
<div class="line">set(glm_DIR         ${RADIUM_DEP_PREFIX}/lib/cmake/glm/ CACHE PATH &quot;My glm&quot;)</div>
<div class="line">set(glbinding_DIR   ${RADIUM_DEP_PREFIX}/share/glbinding/ CACHE PATH &quot;My glbinding&quot;)</div>
<div class="line">set(globjects_DIR   ${RADIUM_DEP_PREFIX}/share/globjects/ CACHE PATH &quot;My globjects&quot;)</div>
<div class="line">set(stb_DIR         ${RADIUM_DEP_PREFIX}/include/stb/ CACHE PATH &quot;My stb&quot;)</div>
<div class="line">set(assimp_DIR      ${RADIUM_DEP_PREFIX}/lib/cmake/assimp-5.0/ CACHE PATH &quot;My assimp&quot;)</div>
<div class="line">set(tinyply_DIR     ${RADIUM_DEP_PREFIX}/lib/cmake/tinyply/  CACHE PATH &quot;My tinyply&quot;)</div>
</div><!-- fragment --><p>When configuring Radium cmake project, don't forget to add this file by calling <code>cmake -C /path/to/myconfig.cmake ......</code></p>
<h3>Manually using command line</h3>
<p>Another option is to provide each value direclty to the cmake command line with <code>-D</code> with:</p>
<div class="fragment"><div class="line">cmake \</div>
<div class="line">-DEigen3_DIR      /path/to/external/install/share/eigen3/cmake/ \</div>
<div class="line">-DOpenMesh_DIR    /path/to/external/install/share/OpenMesh/cmake/ \</div>
<div class="line">-Dcpplocate_DIR   /path/to/external/install/share/cpplocate/ \</div>
<div class="line">-Dglm_DIR         /path/to/external/install/lib/cmake/glm/ \</div>
<div class="line">-Dglbinding_DIR   /path/to/external/install/share/glbinding/ \</div>
<div class="line">-Dglobjects_DIR   /path/to/external/install/share/globjects/ \</div>
<div class="line">-Dstb_DIR         /path/to/external/install/include/stb/ \</div>
<div class="line">-Dassimp_DIR      /path/to/external/install/lib/cmake/assimp-5.0/ \</div>
<div class="line">-Dtinyply_DIR     /path/to/external/install/lib/cmake/tinyply/ \</div>
<div class="line">.......</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md19"></a>
Fetch and build at configure time</h1>
<p>When Radium is configured without specifying the paths to the dependencies, cmake automatically fetch, compile and install them. </p><dl class="section note"><dt>Note</dt><dd>In this mode, dependencies are fetched and built at <b>configure</b> time:</dd></dl>
<div class="fragment"><div class="line">$ cmake .. -DRADIUM_GENERATE_LIB_IO=OFF -DRADIUM_GENERATE_LIB_ENGINE=OFF -DRADIUM_GENERATE_LIB_GUI=OFF -DRADIUM_GENERATE_LIB_PLUGINBASE=OFF -DRADIUM_ENABLE_TESTING=OFF</div>
<div class="line">Starting to parse CMake project.</div>
<div class="line">Externals will be built with 8 core(s)</div>
<div class="line">    == radiumproject Project configuration ==</div>
<div class="line">USE_GOLD_LINKER                           OFF</div>
<div class="line">Git Changeset: a65ec5d06d8aa207080a42935efd10435f230c38</div>
<div class="line">Can build doc?                            YES</div>
<div class="line">  + Graphviz/Dot - for generated graphs   YES</div>
<div class="line">Sanitizers:</div>
<div class="line">  + ADDRESS_SANITIZER                     OFF</div>
<div class="line">  + UB_SANITIZER                          OFF</div>
<div class="line">  + THREAD_SANITIZER                      OFF</div>
<div class="line">[addExternalFolder] process Core /*****/Radium-Engine/src/Core/external</div>
<div class="line">[addExternalFolder] Create temporary directory</div>
<div class="line">[addExternalFolder] Configure cmake project</div>
<div class="line">[addExternalFolder] Start build</div>
<div class="line">[addExternalFolder] Build ended</div>
<div class="line">[addExternalFolder] Configure package file /****/build/src/Core/external/cmake/package-Core.cmake</div>
<div class="line">Configure library Core with default settings</div>
<div class="line">clang-tidy - static analysis              NO</div>
<div class="line">cppcheck - static analysis                NO</div>
<div class="line">clang-format - code formating             YES</div>
<div class="line">Sanitizers:</div>
<div class="line">  + ADDRESS_SANITIZER                     OFF</div>
<div class="line">  + UB_SANITIZER                          OFF</div>
<div class="line">  + THREAD_SANITIZER                      OFF</div>
<div class="line">┌────────────────────┤│ Final overview for radiumproject │├─────────────────────┐</div>
<div class="line">...........</div>
<div class="line">└───────────────────────────────────────────────────────────────────────────────┘</div>
<div class="line">-- Configuring done</div>
<div class="line">-- Generating done</div>
<div class="line">-- Build files have been written to: /****/build/</div>
</div><!-- fragment --><p>What is happening here, is that the dependencies of Core are fetched using git, then configured using cmake, built, and installed to ${CMAKE_INSTALL_PREFIX} of Radium. </p><dl class="section see"><dt>See also</dt><dd>File <code>cmake/externalFunc.cmake</code> for technical details.</dd></dl>
<p>In order to save compilation time, dependencies are processed at the first run, and then skipped. To force processing again the dependencies of a given library, turn on the associated option</p>
<div class="fragment"><div class="line">OPTION( RADIUM_SKIP_${NAME_UPPER}_EXTERNAL &quot;[addExternalFolder] Skip updating ${NAME}::external (disable for rebuild)&quot; ON)</div>
</div><!-- fragment --><p>where <code>$NAME_UPPER</code> is <code>CORE</code>, <code>ENGINE</code>, <code>GUI</code>, <code>PLUGINBASE</code> or <code>IO</code>. </p><dl class="section note"><dt>Note</dt><dd>The option <code>RADIUM_SKIP_${NAME_UPPER}_EXTERNAL</code> is generated only if <code>RADIUM_GENERATE_LIB_${NAME_UPPER}</code> is <code>ON</code>.</dd></dl>
<h1><a class="anchor" id="autotoc_md20"></a>
User provided external dependencies</h1>
<p>You can use your own installation of a local dependency instead of letting cmake fetch and compile it. To this end, just provide the corresponding '*_DIR' to cmake at configuration time (with '-D' option, configuration file or toolchain file, please refer to cmake documentation).</p>
<p>Currently supported (note that these paths must refer to the installation directory of the corresponding library):</p>
<ul>
<li><code>assimp_DIR</code></li>
<li><code>tinyply_DIR</code></li>
<li><code>glm_DIR</code></li>
<li><code>glbinding_DIR</code></li>
<li><code>globjects_DIR</code></li>
<li><code>stb_DIR</code></li>
<li><code>Eigen3_DIR</code></li>
<li><code>OpenMesh_DIR</code></li>
<li><code>cpplocate_DIR</code></li>
</ul>
<p>Radium is compiled and tested with specific version of dependencies, as given in the external's folder CMakeLists.txt and state here for the record</p>
<ul>
<li>assimp: <a href="https://github.com/assimp/assimp.git,">https://github.com/assimp/assimp.git,</a> [tags/v5.0.1],<ul>
<li>with options <code>-DASSIMP_BUILD_ASSIMP_TOOLS=False -DASSIMP_BUILD_SAMPLES=False -DASSIMP_BUILD_TESTS=False -DIGNORE_GIT_HASH=True -DASSIMP_NO_EXPORT=True</code></li>
</ul>
</li>
<li>tinyply: <a href="https://github.com/ddiakopoulos/tinyply.git,">https://github.com/ddiakopoulos/tinyply.git,</a> [tags/2.3.2],<ul>
<li>with options <code>-DSHARED_LIB=TRUE</code></li>
</ul>
</li>
<li>glm: <a href="https://github.com/g-truc/glm.git,">https://github.com/g-truc/glm.git,</a> [0.9.9.5],<ul>
<li>with options <code>-DGLM_TEST_ENABLE=OFF -DBUILD_STATIC_LIBS=OFF -DCMAKE_INSTALL_LIBDIR=lib</code></li>
</ul>
</li>
<li>glbinding: <a href="https://github.com/cginternals/glbinding.git,">https://github.com/cginternals/glbinding.git,</a> [663e19cf1ae6a5fa1acfb1bd952fc43f647ca79c],<ul>
<li>with options <code>-DOPTION_BUILD_TESTS=OFF -DOPTION_BUILD_DOCS=OFF -DOPTION_BUILD_TOOLS=OFF -DOPTION_BUILD_EXAMPLES=OFF</code></li>
</ul>
</li>
<li>globjects: <a href="https://github.com/dlyr/globjects.git,">https://github.com/dlyr/globjects.git,</a> [11c559a07d9e310abb2f53725fd47cfaf538f8b1],<ul>
<li>with options <code>-DOPTION_BUILD_DOCS=OFF -DOPTION_BUILD_EXAMPLES=OFF -DOPTION_USE_EIGEN=ON -Dglbinding_DIR=${glbinding_DIR} -Dglm_DIR=${glm_DIR} -DEigen3_DIR=${Eigen3_DIR}</code></li>
</ul>
</li>
<li>stb: <a href="https://github.com/nothings/stb.git,">https://github.com/nothings/stb.git,</a> [1034f5e5c4809ea0a7f4387e0cd37c5184de3cdd],<ul>
<li>with options <code>None</code></li>
</ul>
</li>
<li>Eigen3: <a href="https://gitlab.com/libeigen/eigen.git,">https://gitlab.com/libeigen/eigen.git,</a> [e80ec243],<ul>
<li>with options <code>-DEIGEN_TEST_CXX11=OFF -DBUILD_TESTING=OFF</code></li>
</ul>
</li>
<li><a class="el" href="namespaceOpenMesh.html">OpenMesh</a>: <a href="https://www.graphics.rwth-aachen.de:9000/OpenMesh/OpenMesh.git,">https://www.graphics.rwth-aachen.de:9000/OpenMesh/OpenMesh.git,</a> [tags/OpenMesh-8.1],<ul>
<li>with options <code>-DBUILD_APPS=OFF</code></li>
</ul>
</li>
<li>cpplocate: <a href="https://github.com/cginternals/cpplocate.git,">https://github.com/cginternals/cpplocate.git,</a> [tags/v2.2.0],<ul>
<li>with options <code>-DOPTION_BUILD_TESTS=OFF -DOPTION_BUILD_DOCS=OFF</code></li>
</ul>
</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>You have to take care of the consistency of the external dependencies, e.g. it's not possible to use your version of globjects without providing your version of eigen, otherwise you will have mixed version in Radium. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="basicsmanual.html">Radium Basics</a></li>
    <li class="footer">Generated on Thu Apr 14 2022 17:09:58 for Radium Engine by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
